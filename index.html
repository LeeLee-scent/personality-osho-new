<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>你的靈魂香氣測驗</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #fdf8f3;
            --primary: #52533e;
            --secondary: #b58372;
            --highlight: #d3733c;
            --accent: #555845;
            --font-serif: 'Noto Serif TC', serif;
            --font-display: 'ZCOOL KuaiLe', cursive;
        }
        body {
            font-family: var(--font-serif);
            background-color: var(--bg);
            color: var(--primary);
            line-height: 1.6;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .card-container {
            max-width: 600px;
            width: 100%;
        }
        .card {
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.05);
            text-align: center;
            animation: fadeInUp 1s forwards;
        }
        h1, h2 {
            font-family: var(--font-display);
            color: var(--highlight);
        }
        .btn {
            background-color: white;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 12px 25px;
            font-size: 1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: var(--font-serif);
        }
        .btn.primary {
            background-color: var(--primary);
            color: white;
        }
        .btn:hover {
            background-color: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }
        .answers {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }
        .answer-btn {
            width: 100%;
            background-color: var(--bg);
            border: 2px solid var(--secondary);
            color: var(--primary);
            padding: 15px;
            font-size: 1em;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-family: var(--font-serif);
        }
        .answer-btn:hover {
            background-color: var(--secondary);
            color: white;
        }
        .hidden {
            display: none;
        }
        .result-desc-text strong {
            color: var(--highlight);
        }
        .result-desc-text {
            text-align: left;
            margin-top: 20px;
            line-height: 1.8;
        }
        @keyframes fadeInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <main class="card-container">
        <section id="intro" class="card">
            <h1>心靈香氣 · 深度測驗</h1>
            <p>香氣，是靈魂的語言。透過這個深度測驗，探索你當下最核心的能量原型，並獲得專屬於你的心靈指引。</p>
            <button id="startBtn" class="btn primary">開始測驗</button>
        </section>

        <section id="quiz" class="card hidden">
            <h2 id="questionTitle"></h2>
            <div id="answers" class="answers"></div>
            <p id="progressText"></p>
        </section>

        <section id="result" class="card hidden">
            <h2 id="resultTitle"></h2>
            <div id="resultDescription"></div>
            <button id="restartBtn" class="btn primary">再測一次</button>
        </section>
    </main>
    
    <script>
        const quizData = {
            questions: [
                {
                    title: "當你面對一個複雜的難題時，你會如何應對？",
                    answers: [
                        { text: "A. 我會整理思緒，尋找邏輯和規律。", type: "cloud" },
                        { text: "B. 我會相信直覺，讓心去引導我。", type: "water" },
                        { text: "C. 我會立刻行動，親手解決問題。", type: "fire" },
                        { text: "D. 我會尋求實用的建議，腳踏實地解決。", type: "rainbow" }
                    ]
                },
                {
                    title: "你最欣賞哪一種生活狀態？",
                    answers: [
                        { text: "A. 簡約而有條理，思緒清晰不被干擾。", type: "cloud" },
                        { text: "B. 情感豐富，與人有深刻的連結。", type: "water" },
                        { text: "C. 充滿挑戰，不斷探索新的可能性。", type: "fire" },
                        { text: "D. 穩定而踏實，享受生活中的小確幸。", type: "rainbow" }
                    ]
                },
                {
                    title: "你感到心靈疲憊時，會用什麼方式充電？",
                    answers: [
                        { text: "A. 獨處靜心，思考和寫作。", type: "cloud" },
                        { text: "B. 沉浸在音樂或藝術中，讓情感流動。", type: "water" },
                        { text: "C. 投入一場充滿能量的運動。", type: "fire" },
                        { text: "D. 整理居家環境，讓外在空間恢復秩序。", type: "rainbow" }
                    ]
                },
                {
                    title: "哪一種自然元素最能代表你的內在？",
                    answers: [
                        { text: "A. 無拘無束的風，輕盈而自由。", type: "cloud" },
                        { text: "B. 溫柔且具包容性的水，能適應任何容器。", type: "water" },
                        { text: "C. 炙熱而充滿創造力的火焰。", type: "fire" },
                        { text: "D. 踏實穩固的大地，紮根且豐盛。", type: "rainbow" }
                    ]
                }
            ],
            results: {
                cloud: {
                    title: "木質調 — 靜心之徑",
                    description: `
                        <strong>心靈原型：風（雲）</strong><br>
                        你擁有清晰的思緒與獨立的智慧，就像高掛天際的雲，不受束縛，自由地流動。你的內在正尋求一份全然的安靜與澄澈，渴望透過思考與覺察，抵達真正的平靜。
                        <br><br>
                        <strong>奧修禪卡指引：</strong>『靜心』與『覺知』<br>
                        這兩張牌提醒你，真正的力量來自於內在的觀照。你不需要向外尋找答案，因為所有的智慧都已在你心中。
                        <br><br>
                        <strong>香氛建議：</strong>檀香、雪松、迷迭香<br>
                        這些香氣能為你創造一個穩定的靜心空間，幫助你紮根於當下，讓心靈像一片晴朗的天空般澄澈。
                    `
                },
                water: {
                    title: "花香調 — 療癒之泉",
                    description: `
                        <strong>心靈原型：水</strong><br>
                        你的心是一片廣闊的海洋，情感豐富且極具包容性。你擁有與生俱來的直覺與同理心，能夠感受他人與自己的情緒。你正學習如何讓情緒流動，而不是將其困住。
                        <br><br>
                        <strong>奧修禪卡指引：</strong>『內在之聲』與『讓它去』<br>
                        這兩張牌鼓勵你信任你的直覺，並允許自己去感受所有情緒。真正的療癒始於愛與接納，流動的心靈才能找到平靜。
                        <br><br>
                        <strong>香氛建議：</strong>玫瑰、茉莉、橙花<br>
                        這些香氣能像輕柔的流水般，安撫你緊繃的神經，並滋養你的心靈，讓你感到被愛與支持。
                    `
                },
                fire: {
                    title: "辛香調 — 啟程的火焰",
                    description: `
                        <strong>心靈原型：火</strong><br>
                        你充滿了勇氣、熱情與行動力。你的內在之火正熊熊燃燒，驅使你不斷向前探索與創造。你正站在一個充滿潛力與新冒險的起點，準備好將靈感轉化為實際的行動。
                        <br><br>
                        <strong>奧修禪卡指引：</strong>『勇氣』與『蛻變』<br>
                        這兩張牌提醒你，真正的勇氣不是無所畏懼，而是帶著感受向前。你正經歷一場深刻的轉變，這份熱情將引領你前往更高層次的生命。
                        <br><br>
                        <strong>香氛建議：</strong>佛手柑、生薑、葡萄柚<br>
                        這些香氣能為你注入活力與熱情，提醒你生命的冒險充滿了喜悅與力量。
                    `
                },
                rainbow: {
                    title: "土質調 — 豐盛之林",
                    description: `
                        <strong>心靈原型：土（彩虹）</strong><br>
                        你尋求一種深刻的穩定感，腳踏實地且務實。你與大自然有著深刻的連結，懂得如何從最平凡的事物中汲取力量。你正學習信任生命中的豐盛，並活在當下。
                        <br><br>
                        <strong>奧修禪卡指引：</strong>『豐盛』與『完整』<br>
                        這兩張牌提醒你，真正的豐盛來自於你與大地的連結。當你與自己的根源相連，你便能體驗到生命中的富足與圓滿。
                        <br><br>
                        <strong>香氛建議：</strong>岩蘭草、廣藿香、琥珀<br>
                        這些香氣能為你提供堅實的支撐，讓你感到腳踏實地，並從中獲得平靜與安穩。
                    `
                }
            }
        };

        // DOM elements
        const introSection = document.getElementById('intro');
        const quizSection = document.getElementById('quiz');
        const resultSection = document.getElementById('result');
        const startBtn = document.getElementById('startBtn');
        const questionTitleEl = document.getElementById('questionTitle');
        const answersDiv = document.getElementById('answers');
        const progressEl = document.getElementById('progressText');
        const resultTitleEl = document.getElementById('resultTitle');
        const resultDescriptionEl = document.getElementById('resultDescription');
        const restartBtn = document.getElementById('restartBtn');

        // Quiz state
        let currentQuestionIndex = 0;
        const scores = { cloud: 0, water: 0, fire: 0, rainbow: 0 };

        function showQuestion() {
            if (currentQuestionIndex < quizData.questions.length) {
                const currentQuestion = quizData.questions[currentQuestionIndex];
                questionTitleEl.textContent = currentQuestion.title;
                answersDiv.innerHTML = '';
                currentQuestion.answers.forEach(answer => {
                    const button = document.createElement('button');
                    button.classList.add('answer-btn');
                    button.textContent = answer.text;
                    button.dataset.type = answer.type;
                    answersDiv.appendChild(button);
                });
                progressEl.textContent = `第 ${currentQuestionIndex + 1} 題 / ${quizData.questions.length} 題`;
            } else {
                showResult();
            }
        }

        function handleAnswerClick(event) {
            const selectedType = event.target.dataset.type;
            if (selectedType) {
                scores[selectedType]++;
                currentQuestionIndex++;
                showQuestion();
            }
        }

        function calculateResult() {
            let maxType = '';
            let maxScore = 0;
            for (const type in scores) {
                if (scores[type] > maxScore) {
                    maxScore = scores[type];
                    maxType = type;
                }
            }
            return quizData.results[maxType];
        }

        function showResult() {
            quizSection.classList.add('hidden');
            resultSection.classList.remove('hidden');
            const finalResult = calculateResult();
            resultTitleEl.textContent = finalResult.title;
            resultDescriptionEl.innerHTML = finalResult.description;
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            for (const key in scores) {
                scores[key] = 0;
            }
            resultSection.classList.add('hidden');
            introSection.classList.remove('hidden');
        }

        // Event listeners
        startBtn.addEventListener('click', () => {
            introSection.classList.add('hidden');
            quizSection.classList.remove('hidden');
            showQuestion();
        });
        
        answersDiv.addEventListener('click', handleAnswerClick);
        restartBtn.addEventListener('click', resetQuiz);

    </script>
</body>
</html>
